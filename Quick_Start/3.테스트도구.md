# 3.테스트 도구

### __JUnit__

기존에 테스트의 사용한 main메서드의 System.out.println의 문제점을 해결하기 위해 다양한 테스트 프레임워크들이 제공되었다.

병렬 테스트 프레임워크 : 테스트 코드와 실제 코드가 1:1로 매핑을 하면서 동일한 형태의 계층 구조를 가지는 형태를 의미한다. 실제 코드와 테스트 케이스는 동일한 패키지 구조를 갖게 된다.

테스트 케이스는 개발 코드와는 독립적으로 관리되며 재사용하거나 변경이 용이한 장점을 가지고 있다. 또한 실제 소스의 실행에 영향을 주지 않고, 테스트를 수행할 수 있다.

JUnit : 자바 기바 오픈소스 테스트 프레임워크, 단위 테스트에 가장 많이 사용된는 툴이다. 

기대값과 결과값을 비교 및 검증할 수 있는 assertion기능을 제공하고, Test Case와 Test Suite로 구성되어 테스트 코드를 하나의 독립적인 클래스 단위로 작성할 수 있다.

테스트 결과에 대한 보고서를 여러가지 형태(HTML, XML)로 제공하므로 별도의 단위 테스트 결과를 작성할 필요가 없다.

주로 클래스 단위의 테스트가 이루어진다.

### __특징__

- 자동화된 단위 테스트 구현
- 빌드도구와 연계하여 빌드시 자동테스트 구현
- 테스트 케이스 작성을 위한 다양한  API 제공
- 뛰어난 확장성 제공
- 대부분의 자바 IDE에서 지원

Test Case : 테스트를 수행할 수 있도록 작성된 코드, 테스트 대상이 되는 클래스에 대해서 1:1로 테스트 케이스를 작성한다.

Test Suite : 관련된 테스트 케이스를 묶어서 동시게 실행하도록 모아둔 코드, 주로 컴포넌트, 모듈, 패키지 등의 단위로 작성한다.

### __사용__

1) 클래스 패스추가 (라이브러리를 다운받아서 환경변수에 추가)

2) 이클립스에서 라이브러리 추가 (Bulid Path 추가)

3) 메이븐의 의존성 설정 (pom.xml에 추가)

### __라이프 사이클__

@BeforeClass : 최초 한 번만 수행

@AfterClass : 마지막 한 번만 수행

@Before : 각 @Test보다 앞에 실행

@After : 각 @Test보다 뒤에 실행

### __assert 메서드__

assertEquals(a, b) : 기대값(a)과 실제값(b)이 같다

assertNotNull(a) : 해당 객체(a)가 null이 아닌지 판단

assertNotSame(a, b) : 기대값(a)과 실제값(b)이 같지 않다

assertNull(a) : 해당 객체(a)가 null인지 판단

assertSame(a, b) : 기대값(a)과 실제값(b)이 같은지 판단

assertTrue(a) : 조건(a)이 true인지 판단

fail() : 테스팅이 실패되었음을 명시

### __정적테스트와 코드리뷰, 코드 인스팩션__

코드리뷰 : 코드를 실행하지 않고 사람이 검토하는 과정을 통해 잠재적인 결함을 찾아내고 이를 개선하는 과정이다. 적은 투자로 큰 효과를 얻을 수 있는 테스트 기법이다.

정적테스트, 정적분석(코드를 실행하지 않고 코드 자체를 분석하는 것) 이라고도 한다.

코드인스팩션 : 정의된 규칙을 기반으로 개발자가 작성한 코드를 검사하여 오류 및 위험 요인을 식별하여 알려주는 기능을 제공한다.

코드 리뷰의 효율성을 향상시키기 위해 정적 테스트 도구나 코드 인스펙션 도구를 사용한다.

코드인스팩션 도구 : 소스코드의 구문 오류를 검사하는 기능을 제공하고, 실행시 발생가능한 오류를 찾아내는 기능을 제공한다. 또 코드 실행시 사용되지 않는 부분을 찾아내는 기능도 제공한다.

수행결과를 엑셀, HTML등의 문서형식으로 제공하고, 새로운 규칙을 정의하여 추가할 수 있다.

### __PMD__

애플리케이션 개발시 코딩표준이나 베스트 프랙티스에 대한 분석 내용을 제공하는 분석 툴이다

[기능]

1) 비어있는 try/catch/finally, switch문을 추출하는 등의 버그 발견

2) 사용하지 않는 지역변수, 매개변수, private 메소드 등을 추출하는 등의 필요 없는 코드를 제거할 수 있다.

3) 잘 못 사용된 String, StringBuffer를 발견함으로써 성능상 문제가 있는 코드를 찾아낸다

4) 필요없는 if문이나 for문 루프를 검색하여 삭제하고, 중복된 코드등을 검색할 수 있다.

5) 개발자들이 원하는 규칙을 정해서 룰에 맞게 작성되어 있는지 체크 가능

6) 표준프레임워크에서 제공하는 룰셋 사용가능